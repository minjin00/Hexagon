<!DOCTYPE HTML>
<!--
	Dopetrope by HTML5 UP
	html5up.net | @ajlkn
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>

<head>
    <title>Dopetrope by HTML5 UP</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
    <link rel="stylesheet" href="assets/css/main.css" />
</head>

<body class="homepage is-preload">
    <div id="page-wrapper" data-filter-id="asian_food">
        <!-- Header -->
        <section id="header">
            <!-- Logo -->
            <h1><a href="/WebProg/Graduation_Work/Main/main.html">올드니즈</a></h1>
            <!-- Nav -->
            <nav id="nav">
                <ul>
                    <li><a href="#" data-filter="all">All</a></li>
                    <li><a href="#" data-filter="서비스">서비스</a></li>
                    <li><a href="#" data-filter="시설이용">시설이용</a></li>
                    <li><a href="#" data-filter="이용권">이용권</a></li>
                    <li><a href="#" data-filter="현금">현금</a></li>
                    <li><a href="#" data-filter="기타">기타</a></li>
                </ul>
            </nav>
        </section>
        <!-- Main -->
        <section id="main">
            <div class="container">
                <div class="row">
                    <div class="col-12">
                        <!-- Portfolio -->
                        <section>
                            <header class="major">
                                <h2>정책</h2>
                            </header>
                            <div class="row" id="my-main">
                            </div>
                        </section>
                    </div>
                </div>
                <div style="text-align: center; margin-top: 50px;">
                    <button onclick="previousPage()">이전 페이지</button>
                    <button onclick="nextPage()">다음 페이지</button>
                </div>
            </div>
        </section>

        <!-- Footer -->
        <section id="footer">
            <!-- Copyright -->
            <div id="copyright">
                <ul class="links">
                    <li><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                            class="bi bi-emoji-kiss" viewBox="0 0 16 16">
                            <path fill-rule="evenodd"
                                d="M12.493 13.368a7 7 0 1 1 2.489-4.858c.344.033.68.147.975.328a8 8 0 1 0-2.654 5.152 8.58 8.58 0 0 1-.81-.622Zm-3.731-3.22a13 13 0 0 0-1.107.318.5.5 0 1 1-.31-.95c.38-.125.802-.254 1.192-.343.37-.086.78-.153 1.103-.108.16.022.394.085.561.286.188.226.187.497.131.705a1.892 1.892 0 0 1-.31.593c-.077.107-.168.22-.275.343.107.124.199.24.276.347.142.197.256.397.31.595.055.208.056.479-.132.706-.168.2-.404.262-.563.284-.323.043-.733-.027-1.102-.113a14.87 14.87 0 0 1-1.191-.345.5.5 0 1 1 .31-.95c.371.12.761.24 1.109.321.176.041.325.069.446.084a5.609 5.609 0 0 0-.502-.584.5.5 0 0 1 .002-.695 5.52 5.52 0 0 0 .5-.577 4.465 4.465 0 0 0-.448.082Zm.766-.087-.003-.001-.003-.001c.004 0 .006.002.006.002Zm.002 1.867-.006.001a.038.038 0 0 1 .006-.002ZM6 8c.552 0 1-.672 1-1.5S6.552 5 6 5s-1 .672-1 1.5S5.448 8 6 8Zm2.757-.563a.5.5 0 0 0 .68-.194.934.934 0 0 1 .813-.493c.339 0 .645.19.813.493a.5.5 0 0 0 .874-.486A1.934 1.934 0 0 0 10.25 5.75c-.73 0-1.356.412-1.687 1.007a.5.5 0 0 0 .194.68ZM14 9.828c1.11-1.14 3.884.856 0 3.422-3.884-2.566-1.11-4.562 0-3.421Z" />
                        </svg> 202019053 손다빈<br> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"
                            fill="currentColor" class="bi bi-emoji-kiss" viewBox="0 0 16 16">
                            <path fill-rule="evenodd"
                                d="M12.493 13.368a7 7 0 1 1 2.489-4.858c.344.033.68.147.975.328a8 8 0 1 0-2.654 5.152 8.58 8.58 0 0 1-.81-.622Zm-3.731-3.22a13 13 0 0 0-1.107.318.5.5 0 1 1-.31-.95c.38-.125.802-.254 1.192-.343.37-.086.78-.153 1.103-.108.16.022.394.085.561.286.188.226.187.497.131.705a1.892 1.892 0 0 1-.31.593c-.077.107-.168.22-.275.343.107.124.199.24.276.347.142.197.256.397.31.595.055.208.056.479-.132.706-.168.2-.404.262-.563.284-.323.043-.733-.027-1.102-.113a14.87 14.87 0 0 1-1.191-.345.5.5 0 1 1 .31-.95c.371.12.761.24 1.109.321.176.041.325.069.446.084a5.609 5.609 0 0 0-.502-.584.5.5 0 0 1 .002-.695 5.52 5.52 0 0 0 .5-.577 4.465 4.465 0 0 0-.448.082Zm.766-.087-.003-.001-.003-.001c.004 0 .006.002.006.002Zm.002 1.867-.006.001a.038.038 0 0 1 .006-.002ZM6 8c.552 0 1-.672 1-1.5S6.552 5 6 5s-1 .672-1 1.5S5.448 8 6 8Zm2.757-.563a.5.5 0 0 0 .68-.194.934.934 0 0 1 .813-.493c.339 0 .645.19.813.493a.5.5 0 0 0 .874-.486A1.934 1.934 0 0 0 10.25 5.75c-.73 0-1.356.412-1.687 1.007a.5.5 0 0 0 .194.68ZM14 9.828c1.11-1.14 3.884.856 0 3.422-3.884-2.566-1.11-4.562 0-3.421Z" />
                        </svg> 202251027 표영웅<br><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"
                            fill="currentColor" class="bi bi-emoji-kiss" viewBox="0 0 16 16">
                            <path fill-rule="evenodd"
                                d="M12.493 13.368a7 7 0 1 1 2.489-4.858c.344.033.68.147.975.328a8 8 0 1 0-2.654 5.152 8.58 8.58 0 0 1-.81-.622Zm-3.731-3.22a13 13 0 0 0-1.107.318.5.5 0 1 1-.31-.95c.38-.125.802-.254 1.192-.343.37-.086.78-.153 1.103-.108.16.022.394.085.561.286.188.226.187.497.131.705a1.892 1.892 0 0 1-.31.593c-.077.107-.168.22-.275.343.107.124.199.24.276.347.142.197.256.397.31.595.055.208.056.479-.132.706-.168.2-.404.262-.563.284-.323.043-.733-.027-1.102-.113a14.87 14.87 0 0 1-1.191-.345.5.5 0 1 1 .31-.95c.371.12.761.24 1.109.321.176.041.325.069.446.084a5.609 5.609 0 0 0-.502-.584.5.5 0 0 1 .002-.695 5.52 5.52 0 0 0 .5-.577 4.465 4.465 0 0 0-.448.082Zm.766-.087-.003-.001-.003-.001c.004 0 .006.002.006.002Zm.002 1.867-.006.001a.038.038 0 0 1 .006-.002ZM6 8c.552 0 1-.672 1-1.5S6.552 5 6 5s-1 .672-1 1.5S5.448 8 6 8Zm2.757-.563a.5.5 0 0 0 .68-.194.934.934 0 0 1 .813-.493c.339 0 .645.19.813.493a.5.5 0 0 0 .874-.486A1.934 1.934 0 0 0 10.25 5.75c-.73 0-1.356.412-1.687 1.007a.5.5 0 0 0 .194.68ZM14 9.828c1.11-1.14 3.884.856 0 3.422-3.884-2.566-1.11-4.562 0-3.421Z" />
                        </svg> 202251055 이효은<br><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"
                            fill="currentColor" class="bi bi-emoji-kiss" viewBox="0 0 16 16">
                            <path fill-rule="evenodd"
                                d="M12.493 13.368a7 7 0 1 1 2.489-4.858c.344.033.68.147.975.328a8 8 0 1 0-2.654 5.152 8.58 8.58 0 0 1-.81-.622Zm-3.731-3.22a13 13 0 0 0-1.107.318.5.5 0 1 1-.31-.95c.38-.125.802-.254 1.192-.343.37-.086.78-.153 1.103-.108.16.022.394.085.561.286.188.226.187.497.131.705a1.892 1.892 0 0 1-.31.593c-.077.107-.168.22-.275.343.107.124.199.24.276.347.142.197.256.397.31.595.055.208.056.479-.132.706-.168.2-.404.262-.563.284-.323.043-.733-.027-1.102-.113a14.87 14.87 0 0 1-1.191-.345.5.5 0 1 1 .31-.95c.371.12.761.24 1.109.321.176.041.325.069.446.084a5.609 5.609 0 0 0-.502-.584.5.5 0 0 1 .002-.695 5.52 5.52 0 0 0 .5-.577 4.465 4.465 0 0 0-.448.082Zm.766-.087-.003-.001-.003-.001c.004 0 .006.002.006.002Zm.002 1.867-.006.001a.038.038 0 0 1 .006-.002ZM6 8c.552 0 1-.672 1-1.5S6.552 5 6 5s-1 .672-1 1.5S5.448 8 6 8Zm2.757-.563a.5.5 0 0 0 .68-.194.934.934 0 0 1 .813-.493c.339 0 .645.19.813.493a.5.5 0 0 0 .874-.486A1.934 1.934 0 0 0 10.25 5.75c-.73 0-1.356.412-1.687 1.007a.5.5 0 0 0 .194.68ZM14 9.828c1.11-1.14 3.884.856 0 3.422-3.884-2.566-1.11-4.562 0-3.421Z" />
                        </svg> 202251056 장민진</li>
                    <li>게시물 수정: <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                            class="bi bi-clipboard2-check" viewBox="0 0 16 16">
                            <path
                                d="M9.5 0a.5.5 0 0 1 .5.5.5.5 0 0 0 .5.5.5.5 0 0 1 .5.5V2a.5.5 0 0 1-.5.5h-5A.5.5 0 0 1 5 2v-.5a.5.5 0 0 1 .5-.5.5.5 0 0 0 .5-.5.5.5 0 0 1 .5-.5h3Z" />
                            <path
                                d="M3 2.5a.5.5 0 0 1 .5-.5H4a.5.5 0 0 0 0-1h-.5A1.5 1.5 0 0 0 2 2.5v12A1.5 1.5 0 0 0 3.5 16h9a1.5 1.5 0 0 0 1.5-1.5v-12A1.5 1.5 0 0 0 12.5 1H12a.5.5 0 0 0 0 1h.5a.5.5 0 0 1 .5.5v12a.5.5 0 0 1-.5.5h-9a.5.5 0 0 1-.5-.5v-12Z" />
                            <path
                                d="M10.854 7.854a.5.5 0 0 0-.708-.708L7.5 9.793 6.354 8.646a.5.5 0 1 0-.708.708l1.5 1.5a.5.5 0 0 0 .708 0l3-3Z" />
                        </svg><a href="DB\PolicyIndex.html" style="text-decoration:none"> danger</a></li>
                </ul>
            </div>
        </section>
    </div>
    <!-- Scripts -->
    <script src="assets/js/jquery.min.js"></script>
    <script src="assets/js/jquery.dropotron.min.js"></script>
    <script src="assets/js/browser.min.js"></script>
    <script src="assets/js/breakpoints.min.js"></script>
    <script src="assets/js/util.js"></script>
    <script src="assets/js/main.js"></script>
    <script src="assets/js/filter.js"></script>
    <script>
        let dataMap = {};
        function makeExample(main) {
            let tmp = '';
            let i = 0;
            for (let m of main) {
                dataMap[i] = m;
                tmp += `<div class='col-4 col-6-medium col-12-small' data-filter='${m.key}'>
                    <section class="box">
                        <a href='${m.link}' class='image featured'><img src='${m.imglink}' alt='' /></a>
                        <header><h3>${m.title}</h3></header>
                        <p>#${m.key}정책</p>
                        <footer>
                            <ul class='actions'>
                                <li>마감 날짜: ${m.deadline}</li>
                            </ul>
                            <ul class='actions'>
                                <li><a href="#" class="button alt myBtn" onclick="openModal(${i})">더보기</a></li>
                            </ul>
                        </footer>
                        <div id="myModal${i}" class="modal">
                            <div class="modal-content">
                                <!-- 닫기 버튼 -->
                                <span class="close" onclick="closeModal(${i})">&times;</span>
                                <!-- 정보를 표시할 요소들 추가 -->
                                <ol id="contentList">
                                    <li onclick="changeContent(${i}, 'content')">지원내용</li>
                                    <li onclick="changeContent(${i}, 'target')">지원대상</li>
                                    <li onclick="changeContent(${i}, 'method')">신청방법</li>
                                </ol>
                                <p id="modalContent${i}">${m.content}</p> <!-- 초기 내용 -->
                            </div>
                        </div>
                    </section>
                </div>
                `
                i++;
            }
            document.getElementById('my-main').innerHTML = tmp;
        }

        function changeContent(id, type) {
            let contentElement = document.getElementById("modalContent" + id);

            // 해당 항목의 데이터를 가져옵니다.
            let data = dataMap[id];

            switch (type) {
                case 'content':
                    contentElement.innerHTML = data.content; // JSON에서 받아온 데이터를 사용합니다.
                    break;
                case 'target':
                    contentElement.innerHTML = data.object; // JSON에서 받아온 데이터를 사용합니다.
                    break;
                case 'method':
                    contentElement.innerHTML = data.application; // JSON에서 받아온 데이터를 사용합니다.
                    break;
            }
        }

        window.onload = function () {
            fetch("DB/policyinfo.php")
                .then(response => response.json())
                .then(json => {
                    makeExample(json.result)
                })
        }

        function openModal(id) {
            var modal = document.getElementById("myModal" + id);
            modal.style.display = "block";
        }

        function closeModal(id) {
            var modal = document.getElementById("myModal" + id);
            modal.style.display = "none";
        }
        // 모달 외부 클릭시 모달 닫힘
        window.onclick = function (event) {
            for (let i = 0; i < Object.keys(dataMap).length; i++) {
                let modal = document.getElementById("myModal" + i);
                if (event.target == modal) {
                    modal.style.display = "none";
                }
            }
        }
        let itemsPerPage = 6;  // 한 페이지에 표시할 항목의 수
        let currentPage = 0;  // 현재 페이지 번호 (0부터 시작)

        function loadData() {
            fetch(`DB/policyinfo.php?page=${currentPage}`)
                .then(response => response.json())
                .then(json => {
                    makeExample(json.result);
                });
        }

        function nextPage() {
            currentPage++;
            loadData();
        }

        function previousPage() {
            if (currentPage > 0) {
                currentPage--;
                loadData();
            }
        }

        window.onload = loadData;

    </script>
</body>

</html>